# ============================================
# Grafana Notification Channel - Telegram
# ============================================
# Emlak Teknoloji Platformu Telegram alert bildirimleri.
#
# KURULUM:
# 1. @BotFather ile bot olustur â†’ token al
# 2. Bot'u gruba ekle, /start yaz
# 3. https://api.telegram.org/bot<TOKEN>/getUpdates â†’ chat_id al
# 4. .env dosyasina TELEGRAM_BOT_TOKEN ve TELEGRAM_CHAT_ID ekle
#
# MESAJ FORMATI: Turkce, severity badge, ortam bilgisi
# MUTE: Critical 15dk, Warning 4 saat tekrar araligi (alert-rules.yml'de)
#
# Ref: https://grafana.com/docs/grafana/latest/alerting/configure-notifications/manage-contact-points/

notifiers:
  # â”€â”€â”€ Ana Bildirim Kanali (Production) â”€â”€â”€â”€â”€
  - name: Telegram - Emlak Prod
    type: telegram
    uid: telegram-emlak-prod
    org_id: 1
    is_default: true
    send_reminder: true
    frequency: 15m
    disable_resolve_message: false
    settings:
      bottoken: "${TELEGRAM_BOT_TOKEN}"
      chatid: "${TELEGRAM_CHAT_ID}"
      uploadImage: true
      parse_mode: HTML

  # â”€â”€â”€ DevOps Ekibi Kanali â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - name: Telegram - DevOps
    type: telegram
    uid: telegram-devops
    org_id: 1
    is_default: false
    send_reminder: true
    frequency: 30m
    disable_resolve_message: false
    settings:
      bottoken: "${TELEGRAM_BOT_TOKEN}"
      chatid: "${TELEGRAM_DEVOPS_CHAT_ID}"
      uploadImage: true
      parse_mode: HTML

# â”€â”€â”€ Telegram Message Template'leri â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Bu template'ler alert-rules.yml icerisinde
# contact point message alanlariyla kullanilir.
#
# Severity Badge'leri:
#   ğŸ”´ CRITICAL  â†’ Aninda aksiyon, 15dk mute
#   ğŸŸ  HIGH      â†’ 15dk icinde aksiyon, 30dk mute
#   ğŸŸ¡ WARNING   â†’ Is saatlerinde inceleme, 4h mute
#   ğŸŸ¢ RESOLVED  â†’ Sorun giderildi bildirimi
#
# Ornek Mesaj Formati:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ ğŸ”´ FIRING                       â”‚
# â”‚                                  â”‚
# â”‚ API Servisi Down                 â”‚
# â”‚ Severity: critical               â”‚
# â”‚                                  â”‚
# â”‚ ğŸ“‹ API 5 dakikadir yanit       â”‚
# â”‚    vermiyor!                     â”‚
# â”‚ ğŸ“ /health endpoint'i           â”‚
# â”‚    basarisiz                     â”‚
# â”‚ ğŸ• 26.02.2026 14:30:00          â”‚
# â”‚                                  â”‚
# â”‚ ğŸ· Ortam: production            â”‚
# â”‚ ğŸ“Š SLA Dashboard                â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
